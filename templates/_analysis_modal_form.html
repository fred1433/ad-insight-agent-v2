<h2>Lanzar Análisis</h2>
<p style="font-size: 0.9em; color: #6c757d;">Las análisis tienen un coste asociado. Se requiere un código para evitar lanzamientos accidentales.</p>
<form id="analysis-modal-form" 
      hx-post="{{ url_for('run_top_n_analysis', client_id=client_id) }}" 
      hx-trigger="submit"
      hx-on::after-request="document.body.dispatchEvent(new Event('closeModal'))"
      style="margin-top: 20px;">
    <div class="form-group">
        <label for="top_n_to_analyze">Top N a analizar:</label>
        <input type="number" name="top_n_to_analyze" class="form-control" value="5" min="1" max="50" required>
    </div>
    <div class="form-group">
        <label for="analysis_code">Código de acceso:</label>
        <input type="text" name="analysis_code" class="form-control" required>
    </div>
    <div class="htmx-indicator">
        <p>Lanzando análisis, por favor espera...</p>
    </div>
    <button type="submit" class="btn btn-primary">Lanzar</button>
</form> 